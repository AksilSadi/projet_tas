# C:\Users\DELL\AppData\Local\opam-testing\default\bin\dune.exe test
# OCAMLPARAM: unset
# Shared cache: disabled
# Shared cache location:
# C:\Users\DELL\AppData\Local\Microsoft\Windows\INetCache\dune\db
# Workspace root: "C:\\Users\\DELL\\OneDrive\\Bureau\\sorbonne\\M2\\projet_tas"
# Auto-detected concurrency: 8
# Dune context:
#  { name = "default"
#  ; kind = "default"
#  ; profile = Dev
#  ; merlin = true
#  ; fdo_target_exe = None
#  ; build_dir = In_build_dir "default"
#  ; instrument_with = []
#  }
$ C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlc.opt.exe -config > C:\Users\DELL\AppData\Local\Temp\dune_a82d52_output
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamldep.opt.exe -modules -impl src/ast.ml) > _build/default/src/.tas_lib.objs/tas_lib__Ast.impl.d
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlc.opt.exe -w @1..3@5..28@30..39@43@46..47@49..57@61..62@67@69-40 -strict-sequence -strict-formats -short-paths -keep-locs -g -bin-annot -I src/.tas_lib.objs/byte -no-alias-deps -opaque -open Tas_lib -o src/.tas_lib.objs/byte/tas_lib__Ast.cmo -c -impl src/ast.ml)
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlc.opt.exe -w @1..3@5..28@30..39@43@46..47@49..57@61..62@67@69-40 -strict-sequence -strict-formats -short-paths -keep-locs -g -bin-annot -I src/.tas_lib.objs/byte -no-alias-deps -opaque -open Tas_lib -o src/.tas_lib.objs/byte/tas_lib__Typer.cmo -c -impl src/typer.ml)
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlc.opt.exe -w @1..3@5..28@30..39@43@46..47@49..57@61..62@67@69-40 -strict-sequence -strict-formats -short-paths -keep-locs -g -bin-annot -I src/Tests/.test_partie4.eobjs/byte -I src/.tas_lib.objs/byte -no-alias-deps -opaque -o src/Tests/.test_partie4.eobjs/byte/dune__exe__Test_partie4.cmi -c -intf src/Tests/test_partie4.mli)
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlopt.opt.exe -w @1..3@5..28@30..39@43@46..47@49..57@61..62@67@69-40 -strict-sequence -strict-formats -short-paths -keep-locs -g -I src/.tas_lib.objs/byte -I src/.tas_lib.objs/native -intf-suffix .ml -no-alias-deps -opaque -open Tas_lib -o src/.tas_lib.objs/native/tas_lib__Ast.cmx -c -impl src/ast.ml)
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlopt.opt.exe -w @1..3@5..28@30..39@43@46..47@49..57@61..62@67@69-40 -strict-sequence -strict-formats -short-paths -keep-locs -g -I src/.tas_lib.objs/byte -I src/.tas_lib.objs/native -intf-suffix .ml -no-alias-deps -opaque -open Tas_lib -o src/.tas_lib.objs/native/tas_lib__Typer.cmx -c -impl src/typer.ml)
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlopt.opt.exe -w @1..3@5..28@30..39@43@46..47@49..57@61..62@67@69-40 -strict-sequence -strict-formats -short-paths -keep-locs -g -I src/Tests/.test_partie4.eobjs/byte -I src/Tests/.test_partie4.eobjs/native -I src/.tas_lib.objs/byte -I src/.tas_lib.objs/native -intf-suffix .ml -no-alias-deps -opaque -o src/Tests/.test_partie4.eobjs/native/dune__exe__Test_partie4.cmx -c -impl src/Tests/test_partie4.ml)
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlopt.opt.exe -w @1..3@5..28@30..39@43@46..47@49..57@61..62@67@69-40 -strict-sequence -strict-formats -short-paths -keep-locs -g -a -o src/tas_lib.cmxa src/.tas_lib.objs/native/tas_lib.cmx src/.tas_lib.objs/native/tas_lib__Utils.cmx src/.tas_lib.objs/native/tas_lib__Ast.cmx src/.tas_lib.objs/native/tas_lib__Typer.cmx src/.tas_lib.objs/native/tas_lib__Evaluator.cmx)
$ (cd _build/default && C:\Users\DELL\AppData\Local\opam-testing\default\bin\ocamlopt.opt.exe -w @1..3@5..28@30..39@43@46..47@49..57@61..62@67@69-40 -strict-sequence -strict-formats -short-paths -keep-locs -g -o src/Tests/test_partie4.exe src/tas_lib.cmxa src/Tests/.test_partie4.eobjs/native/dune__exe__Test_partie4.cmx)
$ (cd _build/default/src/Tests && ./test_partie4.exe)
>
> === TESTS NAT ===
> [TEST] Entier simple
>   Expression : 3
>   Type       : Nat
>
> [TEST] Addition
>   Expression : (1 + 2)
>   Type       : Nat
>
> [TEST] Expression arithmétique
>   Expression : (5 + (succ (pred 8)))
>   Type       : Nat
>
>
> === TESTS LISTES ===
> [TEST] Liste vide
>   Expression : []
>   Type       : [T5]
>
> [TEST] Liste [1]
>   Expression : [1]
>   Type       : [Nat]
>
> [TEST] Liste [1;2;3]
>   Expression : [1,2,3]
>   Type       : [Nat]
>
> [TEST] hd [1;2;3]
>   Expression : (hd [1,2,3])
>   Type       : Nat
>
> [TEST] tl [1;2;3]
>   Expression : (tl [1,2,3])
>   Type       : [Nat]
>
>
> === TESTS POLYMORPHISME ===
> [TEST] let id = fun x -> x in id 3
>   Expression : (let id = (fun x -> x) in (id 3))
>   Type       : Nat
>
> [TEST] let id = fun x -> x in id [1]
>   Expression : (let id = (fun x -> x) in (id [1]))
>   Type       : [Nat]
>
> [TEST] let id = fun x -> x in (id 3, id [1])
>   Expression : (let id = (fun x -> x) in ((id 3), (id [1])))
>   Type       : (Nat × [Nat])
>
>
> === TESTS NON TYPABLES ===
> [TEST NON TYPABLE] Appel d’un entier comme fonction
>   Expression : (3 5)
>   ❌ Non typable : type fleche non-unifiable avec Nat
>
> [TEST NON TYPABLE] Addition avec une fonction
>   Expression : (1 + (fun x -> x))
>   ❌ Non typable : type fleche non-unifiable avec Nat
>
> [TEST NON TYPABLE] hd appliqué à un entier
>   Expression : (hd 10)
>   ❌ Non typable : type liste non-unifiable avec Nat
>
> [TEST NON TYPABLE] tl appliqué à une fonction
>   Expression : (tl (fun x -> x))
>   ❌ Non typable : type liste non-unifiable avec (T53 -> T54)
>
> [TEST NON TYPABLE] Liste hétérogène
>   Expression : [1,(fun x -> x)]
>   ❌ Non typable : type fleche non-unifiable avec Nat
>
> [TEST NON TYPABLE] Ifz avec condition non-Nat
>   Expression : (ifz (fun x -> x) then 1 else 2)
>   ❌ Non typable : type fleche non-unifiable avec Nat
>
> [TEST NON TYPABLE] IfEmpty sur un entier
>   Expression : (ifempty 3 then 1 else 2)
>   ❌ Non typable : type liste non-unifiable avec Nat
>
> [TEST NON TYPABLE] Projection π₁ sur un entier
>   Expression : (π₁ 42)
>   ❌ Non typable : type produit non-unifiable avec Nat
>
> [TEST NON TYPABLE] match somme sur un entier
>   Expression : (match 3 with inl x -> x | inr y -> y)
>   ❌ Non typable : type somme non-unifiable avec Nat
>
> [TEST NON TYPABLE] Fix sans abstraction
>   Expression : (fix 3)
>   ❌ Non typable (erreur inconnue)
>
> [TEST NON TYPABLE] Polymorphisme cassé
>   Expression : (let id = (fun x -> x) in ((id 3) + (id (fun y -> y))))
>   ❌ Non typable : type fleche non-unifiable avec Nat
>
